<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resident Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="resident.css">
</head>
<body>
    <header>
        <div class="logo">
            <img src="landingpageimages/image-removebg-preview.png" alt="logo" width="160" height="130">
        </div>
        <nav class="nav">
            <a href="#payments" style="--1">PAYMENTS</a>
            <a href="#maintenance" style="--1">MAINTENANCE</a>
            <a href="#guests" style="--1">GUESTS</a>
            <a href="index.html" style="--1" onclick="logout()">LOGOUT</a> <!-- Logout redirect -->
        </nav>
    </header>

    <main>
        <!-- Sidebar -->
        <aside class="sidebar">
            <section id="edit-profile">
                <h2>Your Profile</h2>
                <p>View and edit your profile details here.</p>
                <button onclick="openModal('editProfileModal')">View Here</button>
            </section>

            <section id="rental-payments">
                <h2>Rental Payments</h2>
                <p>Make your online rent payments here.</p>
                <button onclick="window.open('payment.html', '_blank')">Make Payment</button>
            </section>
            

            <section id="maintenance-requests">
                <h2>Maintenance Requests</h2>
                <p>Submit maintenance requests and track their status.</p>
                <button onclick="openModal('submitRequestModal')">Submit Request</button>
            </section>

            <section id="notifications">
                <h2>Notifications</h2>
                <p>Rent payment due date REMINDER!!!</p>
                <button onclick="openModal('settingsModal')">Settings</button>
            </section>
        </aside>

        <!-- Main Content with Only One Chart -->
        <section class="content">
            <div>
                <h3>Rental Payment History</h3>
                <canvas id="rentalChart"></canvas>
            </div>
        </section>
    </main>

    <!-- Modals -->
    <div id="editProfileModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('editProfileModal')">&times;</span>
            <h2>Profile Information</h2> <!-- Changed heading to Profile Information -->
            <img src="path/to/resident_photo.jpg" alt="Resident Photo" width="100" height="100"> <!-- Resident's photo -->
            <p>Name: <span id="residentNameProfile">Resident1</span></p> <!-- Resident's name -->
            <p>House Number: <span id="houseNumber">1234</span></p> <!-- House number -->

            <button onclick="closeModal('editProfileModal')">Close</button>
        </div>
    </div>

    <!-- Chart Script for Dynamic Update -->
    <script>
        const rentalData = [1200, 1500, 1100, 1400, 1350];
        const rentalLabels = ['January', 'February', 'March', 'April', 'May'];

        const rentalCtx = document.getElementById('rentalChart').getContext('2d');
        const rentalChart = new Chart(rentalCtx, {
            type: 'bar',
            data: {
                labels: rentalLabels,
                datasets: [{
                    label: 'Payments (KSh)',
                    data: rentalData,
                    backgroundColor: 'rgba(75, 192, 192, 0.2)',
                    borderColor: 'rgba(75, 192, 192, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });

        function openModal(modalId) {
            document.getElementById(modalId).style.display = 'block';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        function logout() {
            window.location.href = "index.html"; // Redirects to index.html on logout
        }
    </script>

<div id="submitRequestModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeModal('submitRequestModal')">&times;</span>
        <h2>Raise A Ticket</h2> 
        <p>Please fill out the details below to raise a maintenance ticket.</p>

        <!-- Category Section -->
        <label for="category">Category:</label>
        <select id="category" name="category">
            <option value="electrical">Electrical</option>
            <option value="plumbing">Plumbing</option>
            <option value="paintWorks">Paint Works</option>
            <option value="carpentry">Carpentry</option>
            <option value="others">Others</option>
        </select>

        <!-- Upload Photo Section -->
        <label for="photoUpload">Upload Photo of the Area:</label>
        <input type="file" id="photoUpload" name="photoUpload" accept="image/*">
        
        <!-- Buttons -->
        <div style="margin-top: 20px; ">
            <button onclick="sendRequest()">Send</button>
            <button onclick="closeModal('submitRequestModal')">Cancel</button>
        </div>
    </div>
</div>
<div id="settingsModal" class="modal">
    <div class="modal-content">
        <div class="notification-container">
            <div class="notification-row">
              <label for="emailNotifications">Email Notifications:</label>
              <label class="switch">
                <input type="checkbox" id="emailNotifications" checked>
                <span class="slider round"></span>
              </label>
              </div>
          
            <div class="notification-row">
              <label for="appNotifications">SMS Notifications:</label>
              <label class="switch">
                <input type="checkbox" id="smsNotifications">
                <span class="slider round"></span>
              </label>
            </div>
          
            <div class="notification-row">
              <label for="otherNotifications">App Notifications:</label>
              <label class="switch">
                <input type="checkbox" id="otherNotifications">
                <span class="slider round"></span>
              </label>
            </div>

        <button onclick="closeModal('settingsModal')">Close</button>
    </div>
</div>
</div>


    <!--Footer-->
    <footer>
        <p>Contact Information: +254 712-345-678 | rosewoodpark@gmail.com | Kilimani, Nairobi</p>
        <div class="social-media">
            <a href="#"><img src="landingpageimages/instagrampic.png" alt="instagram" height="20px" width="20px"></a> |
            <a href="#"><img src="landingpageimages/social-media.png" alt="tiktok" height="20px" width="20px"></a> |
            <a href="#"><img src="landingpageimages/logo.png" alt="whatsapp" height="20px" width="20px"></a>
        </div>
    </footer>
</body>
</html>
